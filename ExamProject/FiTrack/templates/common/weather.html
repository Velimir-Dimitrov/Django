    <div id="weather">
        <p>Fetching your weather data...</p>
    </div>

    <script>
        // Fetch browser location
        navigator.geolocation.getCurrentPosition(
            function(position) {
                const latitude = position.coords.latitude;
                const longitude = position.coords.longitude;

                // Fetch data from Django API
                fetch(`/api/weather?lat=${latitude}&lon=${longitude}`)
                    .then(response => response.json())
                    .then(data => {
    const weatherElement = document.getElementById('weather');

    // Clear the content initially (in case there was a loading message)
    weatherElement.innerHTML = '';

    if (data.error) {
        const errorMessage = document.createElement('p');
        errorMessage.textContent = `Error: ${data.error}`;
        weatherElement.appendChild(errorMessage);
    } else {
        const temperature = data.temperature;
        const condition = data.description.toLowerCase();

        // Basic advice on whether to stay inside or outside based on weather
        let weatherMessage = '';
        if (condition.includes("rain") || condition.includes("storm") || temperature < 10) {
            weatherMessage = "It's better to stay inside today.";
        } else if (condition.includes("snow") || temperature < 0) {
            weatherMessage = "It's cold and snowy outside, stay warm indoors!";
        } else if (condition.includes("clear") || condition.includes("sunny")) {
            weatherMessage = "It looks like a great day to be outside!";
        } else {
            weatherMessage = "The weather is fine, but use your best judgment!";
        }

        // Create and append elements
        const locationElement = document.createElement('p');
        locationElement.innerHTML = `<strong>Location:</strong> ${data.location}`;
        weatherElement.appendChild(locationElement);

        const temperatureElement = document.createElement('p');
        temperatureElement.innerHTML = `<strong>Temperature:</strong> ${data.temperature} Â°C`;
        weatherElement.appendChild(temperatureElement);

        const conditionElement = document.createElement('p');
        conditionElement.innerHTML = `<strong>Condition:</strong> ${data.description}`;
        weatherElement.appendChild(conditionElement);

        const recommendationElement = document.createElement('p');
        recommendationElement.innerHTML = `<strong>Recommendation:</strong> ${weatherMessage}`;
        weatherElement.appendChild(recommendationElement);
    }
})

                    .catch(error => {
                        document.getElementById('weather').innerHTML = `<p>Error fetching weather data. Try again later.</p>`;
                        console.error("Error:", error);
                    });
            },
            function(error) {
                document.getElementById('weather').innerHTML = `<p>Unable to access your location. Please allow location services.</p>`;
                console.error("Geolocation Error:", error);
            }
        );
    </script>